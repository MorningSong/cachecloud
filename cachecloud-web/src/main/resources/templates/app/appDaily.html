<div class="container-fluid">
  <div class="card">
    <div class="card-body">
      <form method="get" action="${request.contextPath}/admin/app/index" class="row d-flex justify-content-end">
        <label class="col-form-label col-auto" style="font-weight:bold;text-align:left;">
          &nbsp;日期:&nbsp;&nbsp;
        </label>
        <input type="date" class="col-auto" size="21" name="dailyDate" id="dailyDate" value="${dailyDate}">
        <input type="hidden" name="appId" value="${appDesc.appId}">
        <input type="hidden" name="tabTag" value="app_daily">
        <input type="submit" class="btn btn-info col-auto ml-2" value="查询"/>
      </form>
    </div>
  </div>
  <div class="row align-items-center">
    <div class="col-12">
      <div class="card">
        <div class="card-header">
          <h3 class="card-title">
            客户端相关
          </h3>
        </div>
        <div class="card-body table-responsive">
          <table class="table table-striped table-hover">
            <tbody>
            <#if appDailyData??>
              <tr>
                <td>客户端值分布(全天)</td>
                <td>${appDailyData.valueSizeDistributeCountDescHtml!}</td>
                <td>客户端异常个数(全天)</td>
                <td>${appDailyData.clientExceptionCount!}</td>
                <td>客户端连接数(每分钟)</td>
                <td>
                  最大值:${appDailyData.maxMinuteClientCount!} <br/>
                  平均值:${appDailyData.avgMinuteClientCount!}
                </td>
              </tr>
              <tr>
                <td>命令调用统计(全天):</td>
                <td>
                  次数:${appDailyData.clientCmdCount!}<br/>
                  平均耗时(ms):${appDailyData.clientAvgCmdCost!}
                </td>
                <td>连接异常统计(全天)：</td>
                <td>
                  次数:${appDailyData.clientConnExpCount!}<br/>
                  平均耗时(ms):${appDailyData.clientAvgConnExpCost!}
                </td>
                <td>命令超时统计(每分钟)：</td>
                <td>
                  次数:${appDailyData.clientCmdExpCount!} <br/>
                  平均耗时(ms):${appDailyData.clientAvgCmdExpCost!}
                </td>
              </tr>
            <#else>
            <tr>
              <td>无客户端上报数据</td>
            </tr>
            </#if>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="col-12">
      <div class="card">
        <div class="card-header">
          <h3 class="card-title">
            服务端相关
          </h3>
        </div>
        <div class="card-body table-responsive">
          <table class="table table-striped table-hover">
            <tbody>
            <#if appDailyData??>
              <tr>
                <td>慢查询个数(全天)</td>
                <td>${appDailyData.slowLogCount!}</td>
                <td>命令次数(每分钟)</td>
                <td>
                  最大值:${appDailyData.maxMinuteCommandCount!} <br/>
                  平均值:${appDailyData.avgMinuteCommandCount!}
                </td>
                <td>命中率(每分钟)</td>
                <td>
                  最大值:${appDailyData.maxMinuteHitRatio!}% <br/>
                  最小值:${appDailyData.minMinuteHitRatio!}% <br/>
                  平均值:${appDailyData.avgHitRatio!}%
                </td>
              </tr>

              <tr>
                <td>空间使用量(全天)</td>
                <td>
                  平均使用量:${appDailyData.avgUsedMemory!} M<br/>
                  最大使用量:${appDailyData.maxUsedMemory!} M
                </td>
                <td>过期键数(全天)</td>
                <td>
                  ${appDailyData.expiredKeysCount!}
                </td>
                <td>剔除键数(全天)</td>
                <td>
                  ${appDailyData.evictedKeysCount!}
                </td>
              </tr>
              <tr>
                <td>键个数(全天)</td>
                <td>
                  平均值:${appDailyData.avgObjectSize!}<br/>
                  最大值:${appDailyData.maxObjectSize!}
                </td>
                <td>input流量(每分钟)</td>
                <td>
                  平均值:${appDailyData.avgMinuteNetInputByte!} M<br/>
                  最大值:${appDailyData.maxMinuteNetInputByte!} M
                </td>
                <td>output流量(每分钟)</td>
                <td>
                  平均:${appDailyData.avgMinuteNetOutputByte!} M<br/>
                  最大:${appDailyData.maxMinuteNetOutputByte!} M<br/>
                </td>
              </tr>
            <#else>
              <tr>
                <td>无客户端上报数据</td>
              </tr>
            </#if>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
